<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="منصة Easy TimeTable تساعد الطلاب على تنظيم جدولهم الدراسي بسهولة — تتبع الواجبات، الامتحانات، والدروس في مكان واحد مع نظام نقاط تفاعلي يشجعك على المذاكرة.">
    <meta name="keywords" content="Easy TimeTable, جدول مذاكرة, إدارة الوقت, طلاب, تنظيم الدراسة, مهام, واجبات, امتحانات, منصة تعليمية">
    <meta name="author" content="Easy TimeTable Team">

    <title>Easy TimeTable - مساعدك الدراسي الذكي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <link rel="stylesheet" href="assistant/css/style.css">
    <link rel="shortcut icon" href="assistant/image/easy.jpg" type="image/x-icon">
</head>
<body>
    <!-- صفحة المصادقة -->
    <div class="auth-container" id="authContainer">
        <div class="auth-form">
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('login')">تسجيل الدخول</div>
                <div class="auth-tab" onclick="switchAuthTab('register')">إنشاء حساب</div>
            </div>

            <!-- تسجيل الدخول -->
            <div class="auth-content active" id="loginContent">
                <h2>مرحباً بعودتك!</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">البريد الإلكتروني</label>
                        <input type="email" id="loginEmail" class="form-control" placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">كلمة المرور</label>
                        <input type="password" id="loginPassword" class="form-control" placeholder="كلمة المرور" required>
                    </div>
                    <div class="loading" id="loginLoading">
                        <div class="loading-spinner"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">تسجيل الدخول</button>
                </form>
                <a class="auth-link" onclick="switchAuthTab('forgot')">نسيت كلمة المرور؟</a>
            </div>

            <!-- إنشاء حساب -->
            <div class="auth-content" id="registerContent">
                <h2>انضم إلينا!</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerName">الاسم الكامل</label>
                        <input type="text" id="registerName" class="form-control" placeholder="أدخل اسمك الكامل" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">البريد الإلكتروني</label>
                        <input type="email" id="registerEmail" class="form-control" placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">كلمة المرور</label>
                        <input type="password" id="registerPassword" class="form-control" placeholder="كلمة المرور (6 أحرف على الأقل)" minlength="6" required>
                    </div>
                    <div class="form-group">
                        <label for="registerGrade">المرحلة الدراسية</label>
                        <select id="registerGrade" class="select-control" required>
                            <option value="">اختر المرحلة الدراسية</option>
                            <optgroup label="المرحلة الابتدائية">
                                <option value="grade1">الصف الأول الابتدائي</option>
                                <option value="grade2">الصف الثاني الابتدائي</option>
                                <option value="grade3">الصف الثالث الابتدائي</option>
                                <option value="grade4">الصف الرابع الابتدائي</option>
                                <option value="grade5">الصف الخامس الابتدائي</option>
                                <option value="grade6">الصف السادس الابتدائي</option>
                            </optgroup>
                            <optgroup label="المرحلة الإعدادية">
                                <option value="grade7">الصف الأول الإعدادي</option>
                                <option value="grade8">الصف الثاني الإعدادي</option>
                                <option value="grade9">الصف الثالث الإعدادي</option>
                            </optgroup>
                            <optgroup label="المرحلة الثانوية">
                                <option value="grade10">الصف الأول الثانوي</option>
                                <option value="grade11">الصف الثاني الثانوي</option>
                                <option value="grade12">الصف الثالث الثانوي</option>
                            </optgroup>
                            <optgroup label="المرحلة الجامعية">
                                <option value="uni1">السنة الأولى جامعة</option>
                                <option value="uni2">السنة الثانية جامعة</option>
                                <option value="uni3">السنة الثالثة جامعة</option>
                                <option value="uni4">السنة الرابعة جامعة</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="loading" id="registerLoading">
                        <div class="loading-spinner"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">إنشاء حساب</button>
                </form>
                <a class="auth-link" onclick="switchAuthTab('login')">لديك حساب بالفعل؟ سجل الدخول</a>
            </div>

            <!-- استعادة كلمة المرور -->
            <div class="auth-content" id="forgotContent">
                <h2>استعادة كلمة المرور</h2>
                <form id="forgotForm">
                    <div class="form-group">
                        <label for="forgotEmail">البريد الإلكتروني</label>
                        <input type="email" id="forgotEmail" class="form-control" placeholder="example@email.com" required>
                    </div>
                    <div class="loading" id="forgotLoading">
                        <div class="loading-spinner"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">إرسال رابط الاستعادة</button>
                </form>
                <a class="auth-link" onclick="switchAuthTab('login')">العودة لتسجيل الدخول</a>
            </div>
        </div>
    </div>

    <!-- التطبيق الرئيسي -->
    <div class="app-container" id="appContainer">
        <div class="container">
            <!-- الشريط الجانبي -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <h2>Easy TimeTable</h2>
                    <p>مساعدك الدراسي الذكي</p>
                </div>
                <ul class="nav-links">
                    <li><a href="#" class="active" data-page="home"><i class="fas fa-home"></i> <span>الصفحة الرئيسية</span></a></li>
                    <li><a href="#" data-page="timetable"><i class="fas fa-calendar-alt"></i> <span>الجدول الدراسي</span></a></li>
                    <li><a href="#" data-page="exams"><i class="fas fa-file-alt"></i> <span>جدول الامتحانات</span></a></li>
                    <li><a href="#" data-page="profile"><i class="fas fa-user"></i> <span>الملف الشخصي</span></a></li>
                    <p>© <span id="year"></span> Abdallah Sayed كل الحقوق محفوظة.</p>
                </ul>
            </div>

            <!-- المحتوى الرئيسي -->
            <div class="main-content">
                <!-- رأس الصفحة -->
                <div class="page-header">
                    <h1 id="pageTitle">الصفحة الرئيسية</h1>
                    <div class="user-menu">
                        <div class="user-avatar" id="userAvatar">?</div>
                        <span id="userName">طالب</span>
                        <button class="logout-btn" onclick="logout()">تسجيل الخروج</button>
                    </div>
                </div>

                <!-- الصفحة الرئيسية -->
                <div class="page active" id="home">
                    <div class="welcome-banner">
                        <h2 id="welcomeMessage">مرحباً بك في Easy TimeTable! 🎓</h2>
                        <p>هنا يمكنك تنظيم وقتك ومتابعة مهامك الدراسية بطريقة ممتعة</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="statLevel">1</div>
                            <div class="stat-label">المستوى</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="statXP">0</div>
                            <div class="stat-label">النقاط</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="statTasks">0%</div>
                            <div class="stat-label">معدل الإنجاز</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="statExams">0</div>
                            <div class="stat-label">امتحانات قادمة</div>
                        </div>
                    </div>

                    <div class="motivation-card">
                        <div class="motivation-text" id="motivationText">"اطلبوا العلم من المهد إلى اللحد"</div>
                        <div class="motivation-author">-</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>المهام القادمة</h3>
                            <button class="btn btn-primary" onclick="openAddTaskModal()">
                                <i class="fas fa-plus"></i> إضافة مهمة
                            </button>
                        </div>
                        <div id="upcomingTasks">
                            <div class="empty-state">
                                <i class="fas fa-tasks"></i>
                                <p>لا توجد مهام حالياً</p>
                                <button class="btn btn-primary" onclick="openAddTaskModal()">إضافة أول مهمة</button>
                            </div>
                        </div>
                    </div>

                    <div class="rewards-section">
                        <h3>الجوائز والإنجازات</h3>
                        <div class="rewards-grid" id="rewardsGrid">
                            <!-- الجوائز تضاف هنا ديناميكياً -->
                        </div>
                    </div>
                </div>

                <!-- صفحة الجدول الدراسي -->
                <div class="page" id="timetable">
                    <div class="timetable-controls">
                        <div class="week-navigation">
                            <button class="btn btn-secondary" onclick="changeWeek(-1)">
                                <i class="fas fa-chevron-right"></i> الأسبوع السابق
                            </button>
                            <span id="currentWeek">الأسبوع الحالي</span>
                            <button class="btn btn-secondary" onclick="changeWeek(1)">
                                الأسبوع القادم <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                        <button class="btn btn-primary" onclick="openAddSubjectModal()">
                            <i class="fas fa-plus"></i> إضافة مادة
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>جدول الدراسة الأسبوعي</h3>
                        </div>
                        <div id="timetableContainer">
                            <div class="empty-state">
                                <i class="fas fa-calendar-alt"></i>
                                <p>لم تقم بإضافة جدول دراسي بعد</p>
                                <button class="btn btn-primary" onclick="openAddSubjectModal()">إنشاء الجدول الدراسي</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- صفحة جدول الامتحانات -->
                <div class="page" id="exams">
                    <div class="card">
                        <div class="card-header">
                            <h3>جدول الامتحانات</h3>
                            <button class="btn btn-primary" onclick="openAddExamModal()">
                                <i class="fas fa-plus"></i> إضافة امتحان
                            </button>
                        </div>
                        <div id="examsList">
                            <div class="empty-state">
                                <i class="fas fa-file-alt"></i>
                                <p>لا توجد امتحانات مسجلة</p>
                                <button class="btn btn-primary" onclick="openAddExamModal()">إضافة أول امتحان</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- صفحة الملف الشخصي -->
                <div class="page" id="profile">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatar">?</div>
                        <h2 class="profile-name" id="profileName">طالب</h2>
                        <p class="profile-grade" id="profileGrade">الصف: غير محدد</p>
                        <div class="level-badge">
                            <i class="fas fa-trophy"></i>
                            <span>المستوى <span id="profileLevel">1</span></span>
                        </div>
                    </div>

                    <div class="profile-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="profileXP">0</div>
                            <div class="stat-label">إجمالي النقاط</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="profileTasks">0</div>
                            <div class="stat-label">المهام المنجزة</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="profileSubjects">0</div>
                            <div class="stat-label">المواد المسجلة</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="profileDays">0</div>
                            <div class="stat-label">أيام متابعة</div>
                        </div>
                    </div>

                    <div class="achievements-section">
                        <h3>الإنجازات</h3>
                        <div class="achievements-grid" id="achievementsGrid">
                            <!-- الإنجازات تضاف هنا ديناميكياً -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- الفوتر -->
        <!-- <footer class="footer">
            <div class="footer-content">
                <div class="islamic-quote" id="islamicQuote">
                    "يَرْفَعِ اللَّهُ الَّذِينَ آمَنُوا مِنكُمْ وَالَّذِينَ أُوتُوا الْعِلْمَ دَرَجَاتٍ"
                </div>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                </div>
                <div class="copyright">
                    &copy; 2024 Easy TimeTable. جميع الحقوق محفوظة
                </div>
            </div>
        </footer> -->
    </div>

    <!-- نموذج إضافة مهمة -->
    <div class="modal" id="addTaskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="taskModalTitle">إضافة مهمة جديدة</h3>
                <button class="close-modal" onclick="closeModal('addTaskModal')">&times;</button>
            </div>
            <form id="addTaskForm">
                <input type="hidden" id="taskId">
                <div class="form-group">
                    <label for="taskTitle">عنوان المهمة</label>
                    <input type="text" id="taskTitle" class="form-control" placeholder="مثال: حل تمارين الرياضيات" required>
                </div>
                <div class="form-group">
                    <label for="taskSubject">المادة</label>
                    <input type="text" id="taskSubject" class="form-control" placeholder="مثال: الرياضيات" required>
                </div>
                <div class="form-group">
                    <label for="taskType">نوع المهمة</label>
                    <select id="taskType" class="select-control" required>
                        <option value="">اختر النوع</option>
                        <option value="study">مذاكرة</option>
                        <option value="homework">واجب</option>
                        <option value="project">مشروع</option>
                        <option value="review">مراجعة</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="taskDate">التاريخ والوقت</label>
                    <input type="datetime-local" id="taskDate" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="taskDuration">المدة المتوقعة (بالساعات)</label>
                    <input type="number" id="taskDuration" class="form-control" min="0.5" max="8" step="0.5" placeholder="2" required>
                </div>
                <button type="submit" class="btn btn-primary" id="taskSubmitBtn">إضافة المهمة</button>
            </form>
        </div>
    </div>

    <!-- نموذج إضافة مادة -->
    <div class="modal" id="addSubjectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="subjectModalTitle">إضافة مادة دراسية</h3>
                <button class="close-modal" onclick="closeModal('addSubjectModal')">&times;</button>
            </div>
            <form id="addSubjectForm">
                <input type="hidden" id="subjectId">
                <div class="form-group">
                    <label for="subjectName">اسم المادة</label>
                    <input type="text" id="subjectName" class="form-control" placeholder="مثال: الرياضيات" required>
                </div>
                <div class="form-group">
                    <label for="subjectDay">اليوم</label>
                    <select id="subjectDay" class="select-control" required>
                        <option value="">اختر اليوم</option>
                        <option value="sunday">الأحد</option>
                        <option value="monday">الإثنين</option>
                        <option value="tuesday">الثلاثاء</option>
                        <option value="wednesday">الأربعاء</option>
                        <option value="thursday">الخميس</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="subjectTime">الوقت</label>
                    <select id="subjectTime" class="select-control" required>
                        <option value="">اختر الوقت</option>
                        <option value="8-10">8:00 - 10:00</option>
                        <option value="10-12">10:00 - 12:00</option>
                        <option value="12-2">12:00 - 2:00</option>
                        <option value="2-4">2:00 - 4:00</option>
                        <option value="4-6">4:00 - 6:00</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" id="subjectSubmitBtn">إضافة المادة</button>
            </form>
        </div>
    </div>

    <!-- نموذج إضافة امتحان -->
    <div class="modal" id="addExamModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="examModalTitle">إضافة امتحان</h3>
                <button class="close-modal" onclick="closeModal('addExamModal')">&times;</button>
            </div>
            <form id="addExamForm">
                <input type="hidden" id="examId">
                <div class="form-group">
                    <label for="examSubject">المادة</label>
                    <input type="text" id="examSubject" class="form-control" placeholder="مثال: الرياضيات" required>
                </div>
                <div class="form-group">
                    <label for="examTitle">عنوان الامتحان</label>
                    <input type="text" id="examTitle" class="form-control" placeholder="مثال: امتحان الفصل الأول" required>
                </div>
                <div class="form-group">
                    <label for="examDate">تاريخ الامتحان</label>
                    <input type="date" id="examDate" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="examTime">وقت الامتحان</label>
                    <input type="time" id="examTime" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" id="examSubmitBtn">إضافة الامتحان</button>
            </form>
        </div>
    </div>

    <script src="assistant/js/main.js"></script>
</body>

</html>

